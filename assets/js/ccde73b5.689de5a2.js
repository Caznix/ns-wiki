"use strict";(self.webpackChunkns_wiki=self.webpackChunkns_wiki||[]).push([[6397],{5680:(e,n,a)=>{a.d(n,{xA:()=>d,yg:()=>g});var t=a(6540);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=t.createContext({}),m=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):r(r({},n),e)),a},d=function(e){var n=m(e.components);return t.createElement(l.Provider,{value:n},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=m(a),u=i,g=p["".concat(l,".").concat(u)]||p[u]||c[u]||o;return a?t.createElement(g,r(r({ref:n},d),{},{components:a})):t.createElement(g,r({ref:n},d))}));function g(e,n){var a=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[p]="string"==typeof e?e:i,r[1]=s;for(var m=2;m<o;m++)r[m]=a[m];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8058:(e,n,a)=>{a.r(n),a.d(n,{contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var t=a(8168),i=(a(6540),a(5680));const o={},r="Creating gamemodes",s={unversionedId:"guides/scripting/gamemodemods",id:"guides/scripting/gamemodemods",isDocsHomePage:!1,title:"Creating gamemodes",description:"Creating a gamemode is significantly more complex than making",source:"@site/docs/guides/scripting/gamemodemods.md",sourceDirName:"guides/scripting",slug:"/guides/scripting/gamemodemods",permalink:"/ns-wiki/docs/guides/scripting/gamemodemods",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/guides/scripting/gamemodemods.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Creating a custom Menu",permalink:"/ns-wiki/docs/guides/scripting/custommenus"},next:{title:"Scripting tutorials",permalink:"/ns-wiki/docs/guides/scripting/index"}},l=[{value:"The <code>mod.json</code>",id:"the-modjson",children:[]},{value:"Language file",id:"language-file",children:[]},{value:"Shared functions",id:"shared-functions",children:[]},{value:"Server-side function",id:"server-side-function",children:[{value:"Randomise function",id:"randomise-function",children:[]}]},{value:"Localization",id:"localization",children:[]},{value:"Maps",id:"maps",children:[]},{value:"Closing words",id:"closing-words",children:[]}],m={toc:l},d="wrapper";function p(e){let{components:n,...a}=e;return(0,i.yg)(d,(0,t.A)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"creating-gamemodes"},"Creating gamemodes"),(0,i.yg)("p",null,"Creating a gamemode is ",(0,i.yg)("strong",{parentName:"p"},"significantly")," more complex than making\nmutators. The main differences are the number of things you must define\nin order to create a functioning gamemode."),(0,i.yg)("p",null,"For example, the client localisation, the way the gamemode is defined\n(FFA, TDM, etc), the scoring system, respawn system (FFA or TDM\nspawnpoints) and team mechanics must all be considered."),(0,i.yg)("h2",{id:"the-modjson"},"The ",(0,i.yg)("inlineCode",{parentName:"h2"},"mod.json")),(0,i.yg)("p",null,"The ",(0,i.yg)("inlineCode",{parentName:"p"},"mod.json")," is responsible for governing when, and where your mod is\nloaded, and follows a layout that is fairly complicated at first glance.\nHowever, once you get the hang of it, it should be fairly easy to use."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "Name" : "SimpleRandomiser",\n    "Description" : "A randomiser gamemode that randomizes your loadouts!",\n    "Version": "0.1.0",\n    "LoadPriority": 1,\n')),(0,i.yg)("p",null,"The script above defines the pubic and listed details of the mod."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'"Scripts": [\n    {\n        "Path": "gamemodes/_gamemode_simplerandomiser.nut",\n    "RunOn": "SERVER && MP"\n    },\n    {\n        "Path": "gamemodes/cl_gamemode_simplerandomiser.nut",\n        "RunOn": "CLIENT && MP"\n    },\n    {\n        "Path": "sh_gamemode_simplerandomiser.nut",\n        "RunOn": "MP",\n        "ClientCallback": {\n            "Before": "simplerandomiser_init"\n        },\n        "ServerCallback": {\n            "Before": "simplerandomiser_init"\n        }\n    }\n],\n')),(0,i.yg)("p",null,"The script above defines both what functions to run, when to run them\nand WHERE to run them,"),(0,i.yg)("p",null,"The first one being ",(0,i.yg)("inlineCode",{parentName:"p"},"_gamemode_simplerandomiser.nut")," runs the server\nscripts, which handles the portion of everything related to the player,\nsuch as taking their weapons and replacing it with a different one."),(0,i.yg)("p",null,"Second one being ",(0,i.yg)("inlineCode",{parentName:"p"},"cl_gamemode_simplerandomiser.nut")," is where the client\nscripts run to perform stuff locally on the player\\'s game, such as\nplaying music, receiving announcement texts from the server and so on."),(0,i.yg)("p",null,"Lastly, ",(0,i.yg)("inlineCode",{parentName:"p"},"sh_gamemode_simplerandomiser.nut")," is a shared script between\nserver and client, in this case it runs your ",(0,i.yg)("inlineCode",{parentName:"p"},"simplerandomiser_init"),' in\norder to assign many variables for the server and client to \\"know\\"\nabout this gamemode.'),(0,i.yg)("p",null,"For example, both server and client needs to know whether if this\ngamemode exists in the private match settings, the scoring HUD and\nsystem, the spawnpoints configuration and many more."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'"Localisation": [\n    "resource/simplerandomiser_localisation_%language%.txt"\n]\n}\n')),(0,i.yg)("p",null,"This defines the path to the language file, and its main use is to\nlocalize strings such as the announcement texts, gamemode and so on."),(0,i.yg)("p",null,"Name this file ",(0,i.yg)("inlineCode",{parentName:"p"},"mod.json"),", and it should go in the mods root folder,\nthat being /yourmodname."),(0,i.yg)("p",null,"Here\\'s what the end result would look like:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "Name" : "SimpleRandomiser",\n    "Description" : "SimpleRandomiser",\n    "Version": "0.1.0",\n    "LoadPriority": 1,\n    "Scripts": [\n    {\n        "Path": "gamemodes/_gamemode_simplerandomiser.nut",\n    "RunOn": "SERVER && MP"\n    },\n    {\n        "Path": "gamemodes/cl_gamemode_simplerandomiser.nut",\n        "RunOn": "CLIENT && MP"\n    },\n    {\n        "Path": "sh_gamemode_simplerandomiser.nut",\n        "RunOn": "MP",\n        "ClientCallback": {\n            "Before": "simplerandomiser_init"\n        },\n        "ServerCallback": {\n            "Before": "simplerandomiser_init"\n        }\n    }\n],\n    "Localisation": [\n        "resource/simplerandomiser_localisation_%language%.txt"\n    ]\n}\n')),(0,i.yg)("h2",{id:"language-file"},"Language file"),(0,i.yg)("p",null,"This follows a fairly simple template, the only thing of note is that\nyou often get strange behaviour using ",(0,i.yg)("inlineCode",{parentName:"p"},"UTF-8")," when saving the file\ninstead of using ",(0,i.yg)("inlineCode",{parentName:"p"},"UTF-16 LE"),"."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'"lang"\n{\n    "Language" "english"\n    "Tokens"\n    {\n        "MODE_SETTING_CATEGORY_SIMPLERANDOMISER" "Simple Randomiser"\n        "SIMPLERANDOMISER" "Randomise"\n    }\n}\n')),(0,i.yg)("p",null,"Name this file ",(0,i.yg)("inlineCode",{parentName:"p"},"simplerandomiser_localisation_english.txt")," and place it\nin the ",(0,i.yg)("inlineCode",{parentName:"p"},"yourmodsname/mod/resource/")," folder."),(0,i.yg)("h2",{id:"shared-functions"},"Shared functions"),(0,i.yg)("p",null,"Let\\'s begin the process by first creating the file\n",(0,i.yg)("inlineCode",{parentName:"p"},"sh_gamemode_simplerandomiser.nut")," and making the core components of the\ngamemode, which is to define the gamemode properties."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'global function simplerandomiser_init // initializing functions\nglobal const string GAMEMODE_SIMPLERANDOMISER = "rand" \n// we want a short term to use which allows server owners to \n// select our gamemode without typing the entire name\n// also makes it easier for us lol\n\nvoid function simplerandomiser_init()\n{\n    // start defining what to do before the map loads on this gamemode\nAddCallback_OnCustomGamemodesInit( CreateGamemodeRand ) // define various properties such as name, desc, so on\nAddCallback_OnRegisteringCustomNetworkVars( RandRegisterNetworkVars ) // server callbacks stuff\n}\n\nvoid function CreateGamemodeRand()\n{\nGameMode_Create( GAMEMODE_SIMPLERANDOMISER )\nGameMode_SetName( GAMEMODE_SIMPLERANDOMISER, "#GAMEMODE_SIMPLERANDOMISER" ) // localizations will be handled later\nGameMode_SetDesc( GAMEMODE_SIMPLERANDOMISER, "#PL_rand_desc" )\nGameMode_SetGameModeAnnouncement( GAMEMODE_SIMPLERANDOMISER, "grnc_modeDesc" )\nGameMode_SetDefaultTimeLimits( GAMEMODE_SIMPLERANDOMISER, 10, 0.0 ) // a time limit of 10 minutes\nGameMode_AddScoreboardColumnData( GAMEMODE_SIMPLERANDOMISER, "#SCOREBOARD_SCORE", PGS_ASSAULT_SCORE, 2 ) // dont fuck with it\nGameMode_AddScoreboardColumnData( GAMEMODE_SIMPLERANDOMISER, "#SCOREBOARD_PILOT_KILLS", PGS_PILOT_KILLS, 2 ) // dont fuck with it\nGameMode_SetColor( GAMEMODE_SIMPLERANDOMISER, [147, 204, 57, 255] ) // dont fuck with it\n\nAddPrivateMatchMode( GAMEMODE_SIMPLERANDOMISER ) // add to private lobby modes\n\nAddPrivateMatchModeSettingEnum("#PL_rand", "rand_enableannouncements", ["#SETTING_DISABLED", "#SETTING_ENABLED"], "1")\n// creates a togglable riff whether or not we want to announce a text to the client\nAddPrivateMatchModeSettingArbitrary("#PL_rand", "rand_announcementduration", "3")\n// Creates a riff with an arbitrary numerical value for how long the announcement text remains on screen\n// These riffs can be accessed from server configs or from the private match settings screen, under the "Simple Randomiser" category\n\n\n// set this to 25 score limit default\nGameMode_SetDefaultScoreLimits( GAMEMODE_SIMPLERANDOMISER, 25, 0 )\n\n#if SERVER\n    GameMode_AddServerInit( GAMEMODE_SIMPLERANDOMISER, GamemodeRand_Init ) // server side initalizing function\n    GameMode_SetPilotSpawnpointsRatingFunc( GAMEMODE_SIMPLERANDOMISER, RateSpawnpoints_Generic )\n    GameMode_SetTitanSpawnpointsRatingFunc( GAMEMODE_SIMPLERANDOMISER, RateSpawnpoints_Generic )\n            // until northstar adds more spawnpoints algorithm, we are using the default.\n#elseif CLIENT\n    GameMode_AddClientInit( GAMEMODE_SIMPLERANDOMISER, ClGamemodeRand_Init ) // client side initializing function\n#endif\n#if !UI\n    GameMode_SetScoreCompareFunc( GAMEMODE_SIMPLERANDOMISER, CompareAssaultScore ) \n            // usually compares which team\'s score is higher and places the winning team on top of the losing team in the scoreboard\n#endif\n}\n\nvoid function RandRegisterNetworkVars()\n{\nif ( GAMETYPE != GAMEMODE_SIMPLERANDOMISER )\n    return\n\nRemote_RegisterFunction( "ServerCallback_Randomiser" )\n    // will come in useful later when we want the server to communicate to the client\n    // for example, making an announcement appear on the client\n}\n')),(0,i.yg)("p",null,"The comments should hopefully explain what most of everything does, but\njust to summarize:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"we defined the gamemode\\'s name and description using a string that\nwe will localize ourselves later."),(0,i.yg)("li",{parentName:"ul"},"we set the default scoring method, what spawnpoint algorithm to use,\nas well as the scoreboard size."),(0,i.yg)("li",{parentName:"ul"},"we defined server callbacks, which we will use later on in the\nserver scripts portion of this gamemode.")),(0,i.yg)("p",null,"Now that we\\'re done, name this file ",(0,i.yg)("inlineCode",{parentName:"p"},"sh_gamemode_simplerandomiser.nut"),"\nand place it in the ",(0,i.yg)("inlineCode",{parentName:"p"},"yourmodsname/mod/scripts/vscripts/gamemodes"),"\nfolder."),(0,i.yg)("h2",{id:"server-side-function"},"Server-side function"),(0,i.yg)("p",null,"Now that we\\'re down with defining the gamemode, its time to focus on\nthe component on that makes the gamemode function in-game. For this, it\nwill be mostly handled by the server scripts, so head into\n",(0,i.yg)("inlineCode",{parentName:"p"},"_gamemode_simplerandomiser.nut")," to begin writing the randomizing\nscript."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"global function GamemodeRand_Init\n\nvoid function GamemodeRand_Init()\n{\n    #if SERVER\nSetLoadoutGracePeriodEnabled( false ) // prevent modifying loadouts with grace period\nSetWeaponDropsEnabled( false ) // prevents picking up weapons on the ground\n    AddCallback_OnPlayerRespawned( GiveRandomGun )\n    #endif\n}\n")),(0,i.yg)("p",null,"As you may have noticed, checking if it is a server is a special case,\nso we use ",(0,i.yg)("inlineCode",{parentName:"p"},"#if SERVER")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"#endif")," instead of the usual\n",(0,i.yg)("inlineCode",{parentName:"p"},"if(thing){stuff}")),(0,i.yg)("p",null,"Now that our initial function is created, we now have the game\ntriggering ","[GiveRandomGun]","{.title-ref} when a player spawns, but we\ndon\\'t have any such function, so let\\'s begin creating one."),(0,i.yg)("p",null,"Firstly, we need to know what weapons we can equip. For this we define\nan array:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'array<string> pilotWeapons = ["mp_weapon_alternator_smg",\n                              "mp_weapon_autopistol",\n                              "mp_weapon_car",\n                              "mp_weapon_dmr"]\n')),(0,i.yg)("p",null,"Here we have defined an array with only 4 weapons in it, you can make\nthis list however you like but remember to separate all but the last\nitem with a ",(0,i.yg)("inlineCode",{parentName:"p"},",")),(0,i.yg)("h3",{id:"randomise-function"},"Randomise function"),(0,i.yg)("p",null,"As we already know its going to call the function ",(0,i.yg)("inlineCode",{parentName:"p"},"GiveRandomGun")," when a\nplayer respawns, let\\'s define that now. First we strip any existing\nweapons:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"void function GiveRandomGun(entity player)\n{\n    foreach ( entity weapon in player.GetMainWeapons() )\n        player.TakeWeaponNow( weapon.GetWeaponClassName() )\n")),(0,i.yg)("p",null,"This iterates through each weapon (that being the primary, secondary and\nanti-titan weapons) and removes them individually."),(0,i.yg)("p",null,"Then lets give them a new, random weapon by selecting a random item from\nour previous array:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"player.GiveWeapon( pilotWeapons[ RandomInt( pilotWeapons.len() ) ] )\n")),(0,i.yg)("p",null,"Now, remember the server callback that we defined earlier in\n",(0,i.yg)("inlineCode",{parentName:"p"},"sh_gamemode_simplerandomiser.nut"),"? Let\\'s put that to use. We are going\nto make it so the player receives an announcement whenever they have\ntheir weapons randomized."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'// checks if the toggle option is set to enabled\nif ( GetCurrentPlaylistVarInt( "rand_enableannouncements", 1 ) == 1 )\n    Remote_CallFunction_NonReplay( player, "ServerCallback_Randomiser" ) // call the function that will be used client-side\n')),(0,i.yg)("p",null,"Overall, the server script should look like this."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'global function GamemodeRand_Init\n\nvoid function GamemodeRand_Init()\n{\n    #if SERVER\nSetLoadoutGracePeriodEnabled( false ) // prevent modifying loadouts with grace period\nSetWeaponDropsEnabled( false ) // prevents picking up weapons on the ground\n    AddCallback_OnPlayerRespawned( GiveRandomGun )\n    #endif\n}\n\narray<string> pilotWeapons = ["mp_weapon_alternator_smg",\n                              "mp_weapon_autopistol",\n                              "mp_weapon_car",\n                              "mp_weapon_dmr"]\n\nvoid function GiveRandomGun(entity player)\n{\n    foreach ( entity weapon in player.GetMainWeapons() )\n        player.TakeWeaponNow( weapon.GetWeaponClassName() )\n\n    player.GiveWeapon( pilotWeapons[ RandomInt( pilotWeapons.len() ) ] )\n\n    // checks if the toggle option is set to enabled\n    if ( GetCurrentPlaylistVarInt( "rand_enableannouncements", 1 ) == 1 )\n        Remote_CallFunction_NonReplay( player, "ServerCallback_Randomiser", GetCurrentPlaylistVarFloat( "rand_announcementduration", 3 ) ) // call the function that will be used client-side\n}\n')),(0,i.yg)("p",null,"Name this file ",(0,i.yg)("inlineCode",{parentName:"p"},"_gamemode_simplerandomiser.nut")," and place it in the\n",(0,i.yg)("inlineCode",{parentName:"p"},"yourmodsname/mod/scripts/vscripts/gamemodes")," folder as well. Make sure\nto double check that all spellings are correct in your mod as everything\nis case-sensitive."),(0,i.yg)("p",null,"Client-side functions ","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-Lastly, for\nyour ",(0,i.yg)("inlineCode",{parentName:"p"},"cl_gamemode_simplerandomiser.nut"),", we are going to utilize the\ncallback functions from earlier, as well as add some music to play\nduring the gamemode."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'global function ClGamemodeRand_Init\nglobal function ServerCallback_Randomiser\n\nvoid function ClGamemodeRand_Init()\n{\n    RegisterLevelMusicForTeam( eMusicPieceID.LEVEL_INTRO, "music_mp_freeagents_intro", TEAM_IMC )\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_INTRO, "music_mp_freeagents_intro", TEAM_MILITIA )\n\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_WIN, "music_mp_freeagents_outro_win", TEAM_IMC )\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_WIN, "music_mp_freeagents_outro_win", TEAM_MILITIA )\n\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_DRAW, "music_mp_freeagents_outro_lose", TEAM_IMC )\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_DRAW, "music_mp_freeagents_outro_lose", TEAM_MILITIA )\n\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_LOSS, "music_mp_freeagents_outro_lose", TEAM_IMC )\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_LOSS, "music_mp_freeagents_outro_lose", TEAM_MILITIA )\n\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_THREE_MINUTE, "music_mp_freeagents_almostdone", TEAM_IMC )\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_THREE_MINUTE, "music_mp_freeagents_almostdone", TEAM_MILITIA )\n\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_LAST_MINUTE, "music_mp_freeagents_lastminute", TEAM_IMC )\nRegisterLevelMusicForTeam( eMusicPieceID.LEVEL_LAST_MINUTE, "music_mp_freeagents_lastminute", TEAM_MILITIA )\n}\n\nvoid function ServerCallback_Randomiser( float duration )\n{\n    AnnouncementData announcement = Announcement_Create( "#RAND_RANDOMIZED" )\nAnnouncement_SetSubText( announcement, "#RAND_RANDOMIZED_DESC" )\nAnnouncement_SetTitleColor( announcement, <0,0,1> )\nAnnouncement_SetPurge( announcement, true )\nAnnouncement_SetPriority( announcement, 200 ) //Be higher priority than Titanfall ready indicator etc\nAnnouncement_SetSoundAlias( announcement, SFX_HUD_ANNOUNCE_QUICK )\nAnnouncement_SetDuration( announcement, duration )\nAnnouncement_SetStyle( announcement, ANNOUNCEMENT_STYLE_QUICK )\nAnnouncementFromClass( GetLocalViewPlayer(), announcement )\n}\n')),(0,i.yg)("p",null,"What this script does is quite simple. It registers default music to\nplay during the intro portion, when winning, drawing or losing, as well\nas the event when the timelimit reaches 3 minutes or 1 minute left."),(0,i.yg)("p",null,"Also, it also displays an announcement towards the player when they have\ntheir weapons randomized."),(0,i.yg)("h2",{id:"localization"},"Localization"),(0,i.yg)("p",null,'\\"So we\\\'re all done with the scripting stuff, right? That means we can\nfinally run the gamemode itself!\\"'),(0,i.yg)("p",null,"Technically, yes, you could. But it wouldn\\'t look pretty. Remember all\nthose strings with the ","#"," symbol in front of them? We have to localize\nthem first so it displays correctly."),(0,i.yg)("p",null,"Hence, open your ",(0,i.yg)("inlineCode",{parentName:"p"},"simplerandomiser_localisation_english.txt")," which is\nlocated in the ",(0,i.yg)("inlineCode",{parentName:"p"},"yourmodsname/mod/resource/")," folder."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'"lang"\n{\n"Language" "english"\n"Tokens"\n{\n    "PL_rand" "Simple Randomiser" // displays in the lobby settings\n            "rand_enableannouncements" "Toggle announcements" // describe the togglable setting\n    "rand_announcementduration" "Announcement duration" // describe the numerical setting\n    "PL_rand_lobby" "Simple Randomiser Lobby" // displays in lobby\n    "PL_rand_desc" "Your weapons are randomised! Fight and win!" // displays in the description of the gamemode in the lobby\n    "PL_rand_hint" "Your weapons are randomised! Fight and win!" // displays in the scoreboard of the gamemode ingame\n    "PL_rand_abbr" "RAND"\n    "GAMEMODE_TBAG" "Simple Randomiser" // displays in the loading screen\n            "RAND_RANDOMIZED" "Weapons Randomized" // displays in the announcement text\n            "RAND_RANDOMIZED_DESC" "Fight and win!" // displays below the announcement text, as a description\n}\n}\n')),(0,i.yg)("p",null,"Alright, we\\'re finally done! However, there\\'s just one thing missing,\nwhich is to let the game know what maps are available for this gamemode\nto play on."),(0,i.yg)("h2",{id:"maps"},"Maps"),(0,i.yg)("p",null,"We will need to create a file called ",(0,i.yg)("inlineCode",{parentName:"p"},"playlists_v2.txt")," and place it in\n",(0,i.yg)("inlineCode",{parentName:"p"},"yourmodsname/keyvalues")," folder."),(0,i.yg)("p",null,"Yes, you will need to create a folder called ",(0,i.yg)("inlineCode",{parentName:"p"},"keyvalues")," which is\nseparate from the ",(0,i.yg)("inlineCode",{parentName:"p"},"mod")," folder that we placed all our scripts and\nlocalization inside."),(0,i.yg)("p",null,"Next, inside this ",(0,i.yg)("inlineCode",{parentName:"p"},"playlists_v2.txt"),", we will need to allow/disallow\nwhat maps can the gamemode be played on."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-text"},"playlists\n{\nGamemodes\n{\n    rand\n    {\n        inherit defaults\n        vars\n        {\n            name #PL_rand\n            lobbytitle #PL_rand_lobby\n            description #PL_rand_desc\n            hint #PL_rand_hint\n            abbreviation #PL_rand_abbr\n            max_players 12\n            max_teams 2\n            classic_mp 1\n\n            gamemode_score_hint #GAMEMODE_SCORE_HINT_TDM\n        }\n    }\n    }\n    Playlists\n{\n    rand\n    {\n        inherit defaults\n        vars\n        {\n            name #PL_rand\n            lobbytitle #PL_rand_lobby\n            description #PL_rand_desc\n            abbreviation #PL_rand_abbr\n            image ps\n            //mixtape_slot 7\n            mixtape_timeout 120\n            visible 0\n        }\n        gamemodes\n        {\n            rand\n            {\n                    maps\n                {\n                        mp_forwardbase_kodai 1\n                                            mp_grave 1\n                                            mp_homestead 1\n                                            mp_thaw 1\n                                            mp_black_water_canal 1\n                                            mp_eden 1\n                                            mp_drydock 1\n                                            mp_crashsite3 1\n                                            mp_complex3 1\n                                            mp_angel_city 1\n                                            mp_colony02 1\n                                            mp_glitch 1\n                    mp_lf_stacks 1\n                    mp_lf_deck 1\n                    mp_lf_meadow 1\n                    mp_lf_traffic 1\n                    mp_lf_township 1\n                    mp_lf_uma 1\n                    mp_relic02 1\n                    mp_wargames 1\n                    mp_rise 1\n                                            mp_coliseum 1\n                                            mp_coliseum_column 1\n                }\n            }\n        }\n    }\n    }\n}\n")),(0,i.yg)("p",null,"There isn\\'t much to say here except that we enabled this gamemode to\nplayed on all maps. So if this gamemode is set to auto-rotate maps in a\nserver, it will go from one map to the next in order. You could disable\ncertain maps by changing the ",(0,i.yg)("inlineCode",{parentName:"p"},"1")," to a ",(0,i.yg)("inlineCode",{parentName:"p"},"0"),"."),(0,i.yg)("p",null,"Another thing to note is that under the ",(0,i.yg)("inlineCode",{parentName:"p"},"Playlists")," tab, there is an\n",(0,i.yg)("inlineCode",{parentName:"p"},"image")," slot. You could change the image that displays when selecting a\ngamemode in the private match lobby. You can find out what the keyvalues\nfor the other images by checking out other gamemodes in\n",(0,i.yg)("inlineCode",{parentName:"p"},"Northstar.Custom/keyvalues/playlists_v2.txt"),"."),(0,i.yg)("h2",{id:"closing-words"},"Closing words"),(0,i.yg)("p",null,"And that should be all you need in order to create a gamemode. Thanks\nfor reading all the way to this point, and I hope you have learnt a\nthing or two."),(0,i.yg)("p",null,"If you ever have a question or two, feel free to head into the Northstar\nDiscord and ask about in #modding-chat."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Revised by ",(0,i.yg)("inlineCode",{parentName:"li"},"x3Karma#6984"))))}p.isMDXComponent=!0}}]);