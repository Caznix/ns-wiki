"use strict";(self.webpackChunkns_wiki=self.webpackChunkns_wiki||[]).push([[4321],{5680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>g});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),i=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=i(e.components);return a.createElement(u.Provider,{value:t},e.children)},c="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=i(n),m=r,g=c["".concat(u,".").concat(m)]||c[m]||y[m]||o;return n?a.createElement(g,s(s({ref:t},p),{},{components:n})):a.createElement(g,s({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[c]="string"==typeof e?e:r,s[1]=l;for(var i=2;i<o;i++)s[i]=n[i];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4896:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(8168),r=(n(6540),n(5680));const o={},s="HTTP and JSON",l={unversionedId:"reference/northstar/httprequests",id:"reference/northstar/httprequests",isDocsHomePage:!1,title:"HTTP and JSON",description:"As of v1.12.0, you can now make HTTP requests from Squirrel scripts.",source:"@site/docs/reference/northstar/httprequests.md",sourceDirName:"reference/northstar",slug:"/reference/northstar/httprequests",permalink:"/ns-wiki/docs/reference/northstar/httprequests",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/reference/northstar/httprequests.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Dependency Constants and Compiler Directives",permalink:"/ns-wiki/docs/reference/northstar/dependencyconstants"},next:{title:"modsettings",permalink:"/ns-wiki/docs/reference/northstar/modsettings"}},u=[{value:"Launch Arguments",id:"launch-arguments",children:[]},{value:"HTTP API",id:"http-api",children:[{value:"Data",id:"data",children:[]},{value:"Functions",id:"functions",children:[]}]},{value:"JSON API",id:"json_overview",children:[]}],i={toc:u},p="wrapper";function c(e){let{components:t,...n}=e;return(0,r.yg)(p,(0,a.A)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"http-and-json"},"HTTP and JSON"),(0,r.yg)("p",null,"As of v1.12.0, you can now make HTTP requests from Squirrel scripts.\nHTTP requests allow you to query online APIs, send, retrieve data and\nmuch more."),(0,r.yg)("p",null,"This is particularly useful for custom APIs you might want to build for\nyour servers, for instance if you want to wrap a database with an API so\nthat your servers can save player stats."),(0,r.yg)("p",null,":::: warning\n::: title\nWarning\n:::"),(0,r.yg)("p",null,"For security reasons, private network hosts, such as ",(0,r.yg)("inlineCode",{parentName:"p"},"localhost")," or\n",(0,r.yg)("inlineCode",{parentName:"p"},"192.168.1.106")," are blocked by default, meaning you cannot make HTTP\nrequests to them. This includes a blanket ban on IPv6 hosts."),(0,r.yg)("p",null,"You are also limited to ",(0,r.yg)("inlineCode",{parentName:"p"},"HTTP")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"HTTPS")," for protocols. Any other\nprotocols will prevent the request from being made.\n::::"),(0,r.yg)("h2",{id:"launch-arguments"},"Launch Arguments"),(0,r.yg)("p",null,"There are a few launch arguments you may use to bypass some of the\nlimitations, or outright disable HTTP requests."),(0,r.yg)("p",null,"These should be applied to your client or server\\'s launch commandline."),(0,r.yg)("hr",null),(0,r.yg)("p",null,"  Name                     Description\n",(0,r.yg)("inlineCode",{parentName:"p"},"-allowlocalhttp"),"        Disables private network checks for HTTP requests, allowing any IPv4 and IPv6 host to be used.\n",(0,r.yg)("inlineCode",{parentName:"p"},"-disablehttprequests"),"   Disables HTTP requests. Any attempts at making requests will fail.\n",(0,r.yg)("inlineCode",{parentName:"p"},"-disablehttpssl"),"        Disables SSL verifications, useful when the host\\'s SSL certificate is invalid, and insecure HTTP cannot be used."),(0,r.yg)("hr",null),(0,r.yg)("p",null,"  : Launch Arguments"),(0,r.yg)("h2",{id:"http-api"},"HTTP API"),(0,r.yg)("p",null,"This section documents all the available functions, structs and enums\nused to make HTTP request in Squirrel scripts."),(0,r.yg)("p",null,":::: warning\n::: title\nWarning\n:::"),(0,r.yg)("p",null,"HTTP requests are multithreaded, as such they will run in the background\nuntil completion, whether successful or failed. Be mindful of how many\nrequests you make at a time, as you may potentially get ratelimited or\nblacklisted by the remote host. Use the callbacks to execute code when a\nrequest has completed.\n::::"),(0,r.yg)("h3",{id:"data"},"Data"),(0,r.yg)("p",null,"The HTTP system uses a few enums and structs for requests and their\ncallbacks."),(0,r.yg)("p",null,"::: {#httpapi_enums_httpmethod}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Contains the different allowed methods for a HTTP request. Please\nwork."),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Uses the ",(0,r.yg)("inlineCode",{parentName:"p"},"GET")," HTTP method for the request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Uses the ",(0,r.yg)("inlineCode",{parentName:"p"},"POST")," HTTP method for the request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Uses the ",(0,r.yg)("inlineCode",{parentName:"p"},"HEAD")," HTTP method for the request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Uses the ",(0,r.yg)("inlineCode",{parentName:"p"},"PUT")," HTTP method for the request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Uses the ",(0,r.yg)("inlineCode",{parentName:"p"},"DELETE")," HTTP method for the request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Uses the ",(0,r.yg)("inlineCode",{parentName:"p"},"PATCH")," HTTP method for the request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Uses the ",(0,r.yg)("inlineCode",{parentName:"p"},"OPTIONS")," HTTP method for the request."))),(0,r.yg)("p",null,"::: {#httpapi_structs_httprequest}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Contains the settings for a HTTP request. This is used for the more\nflexible ",(0,r.yg)("inlineCode",{parentName:"p"},"NSHttpRequest"),'{.interpreted-text role="cpp:func"} function.'),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"HTTP method used for this HTTP request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Base URL of this HTTP request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Headers used for this HTTP request. Some may get overridden or\nignored.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"Query parameters for this HTTP request.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The content type of this HTTP request. Defaults to application/json\n& UTF-8 charset.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The body of this HTTP request. If set, will override\nqueryParameters.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The timeout for this HTTP request in seconds. Clamped between 1 and\n60.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"If set, the override to use for the User-Agent header."))),(0,r.yg)("p",null,":::: warning\n::: title\nWarning\n:::"),(0,r.yg)("p",null,"Only ",(0,r.yg)("inlineCode",{parentName:"p"},"POST")," requests can send a body to the remote end. You may only\nchoose to send a body, or query parameters. Having both will give\npriority to the body and clear the parameters.\n::::"),(0,r.yg)("p",null,"::: {#httpapi_structs_httprequestresponse}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Contains the response from the remote host for a successful HTTP\nrequest."),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The status code returned by the remote the call was made to.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The body of the response.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The raw headers returned by the remote.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"A key -",">"," values table of headers returned by the remote."))),(0,r.yg)("p",null,"::: {#httpapi_structs_httprequestfailure}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Contains the failure code and message when Northstar fails to make a\nHTTP request."),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The status code returned by the remote the call was made to.")),(0,r.yg)("blockquote",{parentName:"blockquote"},(0,r.yg)("p",{parentName:"blockquote"},"The reason why this HTTP request failed."))),(0,r.yg)("h3",{id:"functions"},"Functions"),(0,r.yg)("p",null,":::: warning\n::: title\nWarning\n:::"),(0,r.yg)("p",null,"Your mod needs to be load priority 1 or above to use ",(0,r.yg)("inlineCode",{parentName:"p"},"HttpRequest")," and\n",(0,r.yg)("inlineCode",{parentName:"p"},"HttpRequestResponse")," in your script.\n::::"),(0,r.yg)("p",null,"::: {#httpapi_funcs_nshttprequest}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Launches a HTTP request with the given request data. This function is\nasync, and the provided callbacks will be called when it is completed,\nif any."),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"HttpRequest requestParameters")," - The parameters to use for this\nrequest."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestResponse ) onSuccess")," -\nThe callback to execute if the request is successful."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestFailure ) onFailure")," -\nThe callback to execute if the request has failed.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},"Whether or not the request has been successfully started.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("p",{parentName:"blockquote"},"Below is a working example of an HTTP request for a mod."),(0,r.yg)("p",{parentName:"blockquote"},"As you can see, you can either use named functions for the callbacks,\nor create lambdas. Lambdas are particularly useful as they let you\ncapture local variables of the functions to re-use later such as\n",(0,r.yg)("inlineCode",{parentName:"p"},"callback")," in this example."),(0,r.yg)("pre",{parentName:"blockquote"},(0,r.yg)("code",{parentName:"pre"},'HttpRequest request\nrequest.method = HttpRequestMethod.GET\nrequest.url = "https://my.spyglass.api/sanctions/get_by_id"\nrequest.queryParameters[ "id" ] <- [ id.tostring() ]\n\nvoid functionref( HttpRequestResponse ) onSuccess = void function ( HttpRequestResponse response ) : ( callback )\n{\n    SpyglassApi_OnQuerySanctionByIdSuccessful( response, callback )\n}\n\nvoid functionref( HttpRequestFailure ) onFailure = void function ( HttpRequestFailure failure ) : ( callback )\n{\n    SpyglassApi_OnQuerySanctionByIdFailed( failure, callback )\n}\n\nreturn NSHttpRequest( request, onSuccess, onFailure )\n'))),(0,r.yg)("p",null,"::: {#httpapi_funcs_nshttpget}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Launches an HTTP GET request at the specified URL with the given query\nparameters. Shortcut wrapper of NSHttpRequest(). This function is\nasync, and the provided callbacks will be called when it is completed,\nif any."),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"string url")," - The url to make the HTTP request at."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] table< string, array< string > > queryParameters")," - A\ntable of key value parameters to insert in the url."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestResponse ) onSuccess")," -\nThe callback to execute if the request is successful."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestFailure ) onFailure")," -\nThe callback to execute if the request has failed.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},"Whether or not the request has been successfully started.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("p",{parentName:"blockquote"},"This is the same example as NSHttpRequest()\\'s example. However, it\nuses this function instead."),(0,r.yg)("pre",{parentName:"blockquote"},(0,r.yg)("code",{parentName:"pre"},'table<string, array<string> > params\nparams[ "id" ] <- [ id.tostring() ]\n\nvoid functionref( HttpRequestResponse ) onSuccess = void function ( HttpRequestResponse response ) : ( callback )\n{\n    SpyglassApi_OnQuerySanctionByIdSuccessful( response, callback )\n}\n\nvoid functionref( HttpRequestFailure ) onFailure = void function ( HttpRequestFailure failure ) : ( callback )\n{\n    SpyglassApi_OnQuerySanctionByIdFailed( failure, callback )\n}\n\nreturn NSHttpGet( "https://my.spyglass.api/sanctions/get_by_id", params, onSuccess, onFailure )\n'))),(0,r.yg)("p",null,"::: {#httpapi_funcs_nshttppostquery}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Launches an HTTP POST request at the specified URL with the given\nquery parameters. Shortcut wrapper of NSHttpRequest(). This function\nis async, and the provided callbacks will be called when it is\ncompleted, if any."),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"string url")," - The url to make the HTTP request at."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] table< string, array< string > > queryParameters")," - A\ntable of key value parameters to insert in the url."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestResponse ) onSuccess")," -\nThe callback to execute if the request is successful."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestFailure ) onFailure")," -\nThe callback to execute if the request has failed.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},"Whether or not the request has been successfully started."))),(0,r.yg)("p",null,"::: {#httpapi_funcs_nshttppostbody}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Launches an HTTP POST request at the specified URL with the given\nbody. Shortcut wrapper of NSHttpRequest(). This function is async, and\nthe provided callbacks will be called when it is completed, if any."),(0,r.yg)("p",{parentName:"blockquote"},'This is the more interesting POST function, as you can use it to\nconvert a table into JSON and \\"POST\\" it to the remote server.'),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"string url")," - The url to make the HTTP request at."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"string body")," - The body to send with the request. Expects JSON by\ndefault."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestResponse ) onSuccess")," -\nThe callback to execute if the request is successful."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] void functionref( HttpRequestFailure ) onFailure")," -\nThe callback to execute if the request has failed.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},"Whether or not the request has been successfully started.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("p",{parentName:"blockquote"},"In this example, we\\'ll convert a table to JSON, and send it over to a\nweb API."),(0,r.yg)("pre",{parentName:"blockquote"},(0,r.yg)("code",{parentName:"pre"},'table myData = {}\nmyData[ "uid" ] <- player.GetUID()\nmyData[ "username" ] <- player.GetPlayerName()\nmyData[ "isBot" ] <- player.IsBot().tostring()\n\nstring json = EncodeJSON( myData )\nif ( NSHttpPostBody( "https://api.stats.tf/player/connect", json ) )\n{\n    printt( "Successfully attempted to upload player connection stats to API." )\n} \n'))),(0,r.yg)("p",null,"::: {#httpapi_funcs_nsissuccesshtppcode}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},'Checks whether or not the given HTTP status code is considered a\n\\"success\\" code.'),(0,r.yg)("p",{parentName:"blockquote"},"This is true for status codes between 200 and 299."),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"int statusCode")," - The status code to verify.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},"Whether or not the given status code is considered successful."))),(0,r.yg)("h2",{id:"json_overview"},"JSON API"),(0,r.yg)("p",null,":::: warning\n::: title\nWarning\n:::"),(0,r.yg)("p",null,"The JSON parser currently supports the following types for values:\n",(0,r.yg)("inlineCode",{parentName:"p"},"string"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"integer"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"float"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"bool"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"table"),", and ",(0,r.yg)("inlineCode",{parentName:"p"},"array"),"."),(0,r.yg)("p",null,"Tables and arrays can only hold supported types. Unsupported types will\nbe ignored. Keys can only be strings."),(0,r.yg)("p",null,"The JSON parser currently does not support keys holding ",(0,r.yg)("inlineCode",{parentName:"p"},"null")," values,\nand simply won\\'t include them in decoded tables or encoded JSON\nstrings.\n::::"),(0,r.yg)("p",null,"::: {#json_funcs_decodejson}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Converts a JSON string to a Squirrel table."),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"string json")," - The JSON string to decode into a table."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"[OPTIONAL] bool fatalParseErrors")," - Whether or not parsing errors\nshould throw a fatal script error. Default to false.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},"The table decoded from the JSON string on success, or an empty\ntable ",(0,r.yg)("inlineCode",{parentName:"li"},"{}")," on parse failure (if fatalParseErrors is false)."))),(0,r.yg)("p",null,"::: {#json_funcs_encodejson}\n:::"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Converts a Squirrel table to a JSON string."),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"table data")," - The table to encode to a JSON string.")),(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("ul",{parentName:"blockquote"},(0,r.yg)("li",{parentName:"ul"},"The JSON string parsed from the Squirrel table."))),(0,r.yg)("p",null,"Paired with ",(0,r.yg)("inlineCode",{parentName:"p"},"/reference/northstar/httprequests"),'{.interpreted-text\nrole="doc"}, this allows you to send and retrieve JSON data from\nexternal sources.'))}c.isMDXComponent=!0}}]);