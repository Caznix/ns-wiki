"use strict";(self.webpackChunkns_wiki=self.webpackChunkns_wiki||[]).push([[4025],{8166:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>a});var i=s(4848),r=s(8453);const o={},t="Sound Modding",d={id:"guides/tools/soundmodding",title:"Sound Modding",description:"Audio Type",source:"@site/docs/guides/tools/soundmodding.md",sourceDirName:"guides/tools",slug:"/guides/tools/soundmodding",permalink:"/ns-wiki/docs/guides/tools/soundmodding",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/guides/tools/soundmodding.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"RPak Modding",permalink:"/ns-wiki/docs/guides/tools/rpakmodding"},next:{title:"Modding Tools",permalink:"/ns-wiki/docs/guides/tools/"}},l={},a=[{value:"Audio Type",id:"audio-type",level:2},{value:"Step 1 - Identifying the Sound",id:"step-1---identifying-the-sound",level:2},{value:"Step 2 - Creating Folders",id:"step-2---creating-folders",level:2},{value:"Creating Your Sound",id:"creating_your_sound",level:2},{value:"Issues With Sounds",id:"issues_with_sounds",level:2},{value:"Sound Tools",id:"sound_tools",level:2},{value:"Installation",id:"installation",level:2}];function c(e){const n={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"sound-modding",children:"Sound Modding"})}),"\n",(0,i.jsx)(n.h2,{id:"audio-type",children:"Audio Type"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You will need to use ",(0,i.jsx)(n.code,{children:"WAV"})," format and either ",(0,i.jsx)(n.code,{children:"48000hz"})," or ",(0,i.jsx)(n.code,{children:"44100hz"}),"\r\nsample rate."]}),"\n",(0,i.jsxs)(n.li,{children:["More details below in ",(0,i.jsx)(n.a,{href:"#creating_your_sound",children:"creating_your_sound"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"step-1---identifying-the-sound",children:"Step 1 - Identifying the Sound"}),"\n",(0,i.jsxs)(n.p,{children:["First you need to identify the exact sound. There's a command for this:\r\n",(0,i.jsx)(n.code,{children:"ns_print_played_sounds 1"})," It will show all the audio events that are\r\nhappening at that moment on the console."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, use your Grapple and open the console the event ID will be\r\n",(0,i.jsx)(n.code,{children:"pilot_grapple_fire"})]}),"\n",(0,i.jsxs)(n.p,{children:["How it looks in the console:\r\n",(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/rwynx/audio-overriding-northstar/main/Images/audioeventeample.png",alt:"console"})]}),"\n",(0,i.jsx)(n.p,{children:"All weapons, boosts, tacticals have different events IDs on different\r\nsurfaces (concrete, solidmetal, wood, dirt etc.) That's why you must\r\nidentify the exact event/s. Examples based on Grapple:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Concrete impact: ",(0,i.jsx)(n.code,{children:"concrete_grapple_impact_1p_vs_3p"})]}),"\n",(0,i.jsxs)(n.li,{children:["Solidmetal impact: ",(0,i.jsx)(n.code,{children:"solidmetal_grapple_extract_1p_vs_3p"})," etc."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NOTE:"})," ",(0,i.jsx)(n.code,{children:"ns_print_played_sounds 1"})," will show you every event ID. Not\r\njust in-match ones. For example:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The sound when you move the cursor to an option it will be\r\n",(0,i.jsx)(n.code,{children:"menu_focus"}),", and clicking sound will be ",(0,i.jsx)(n.code,{children:"menu_accept"})," or menu music\r\n",(0,i.jsx)(n.code,{children:"mainmenu_music"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Check the console often, as it's easy to miss your sound - there can be\r\na lot of sounds playing."}),"\n",(0,i.jsxs)(n.p,{children:["There's also a\r\n",(0,i.jsx)(n.a,{href:"https://gist.github.com/begin-theadventure/84c46e803aa358b102d754ff992ae9e4",children:"list"}),"\r\nof all EvenIDs (audio)."]}),"\n",(0,i.jsxs)(n.p,{children:["Sounds can be played in-game from the console via\r\n",(0,i.jsx)(n.code,{children:"script_ui EmitUISound(soundname)"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Additionally\r\n",(0,i.jsx)(n.a,{href:"https://gist.github.com/begin-theadventure/cf941af91cd158de4fde747ec78c2902",children:"subtitles"}),"\r\nin the form of plain text can also be useful."]}),"\n",(0,i.jsxs)(n.p,{children:["You can also export sounds with\r\n",(0,i.jsx)(n.a,{href:"https://github.com/r-ex/LegionPlus",children:"LegionPlus"})," instead of playing them\r\nin-game."]}),"\n",(0,i.jsx)(n.p,{children:"Open LegionPlus.exe -> Load File -> Titanfall 2/r2/sound pick\r\ngeneral.mbnk"}),"\n",(0,i.jsx)(n.p,{children:"If you want to export only a specific sound use search. It's possible\r\nto export selected sounds and all (after a search it exports only the\r\nfound assets)."}),"\n",(0,i.jsx)(n.h2,{id:"step-2---creating-folders",children:"Step 2 - Creating Folders"}),"\n",(0,i.jsxs)(n.p,{children:["When you successfully identified your event and have the audio file/s\r\nready it's time to set up the folder structure. Assuming the event name\r\nis ",(0,i.jsx)(n.code,{children:"pilot_grapple_fire"}),", the folder structure of your mod should look\r\nlike this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"author.mod/\r\n\u251c\u2500\u2500 audio/\r\n\u2502   \u251c\u2500\u2500 pilot_grapple_fire/\r\n\u2502   \u2502   \u2514\u2500\u2500 my_audio.wav\r\n\u2502   \u2514\u2500\u2500 pilot_grapple_fire.json\r\n\u2514\u2500\u2500 mod.json\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Example of a ",(0,i.jsx)(n.code,{children:"mod.json"})," (documented here:\r\n",(0,i.jsx)(n.code,{children:"/guides/gettingstarted"})," )"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "Name": "MOD_NAME_HERE",\r\n  "Description": "DESCRIPTION_HERE",\r\n  "Version": "0.1.0",\r\n  "LoadPriority": 2\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Inside the ``audio/`` folder:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pilot_grapple_fire/"})," folder which needs to contain your .wav\r\nfile(s)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pilot_grapple_fire.json"})," json used to configure the sound override,\r\ndont forget to edit."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You will have to add that folder with your sound and the json for each\r\nevent you want to override. The event JSON files must contain both\r\n",(0,i.jsx)(n.code,{children:"EventId"})," and ",(0,i.jsx)(n.code,{children:"AudioSelectionStrategy"})," like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n    "EventId": [ "pilot_grapple_fire" ],\r\n    "AudioSelectionStrategy": "sequential"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"AudioSelectionStrategy"})," can be either:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sequential"}),": If you have one sound or you want to play them in\r\nalphabetical order."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"random"}),": If you have more than one sound and you want to randomize\r\nthem."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"creating_your_sound",children:"Creating Your Sound"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Recommended tool:"}),"\r\n",(0,i.jsx)(n.a,{href:"https://www.audacityteam.org/download/",children:"Audacity"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Open/Add your audio as a track to Audacity and set the project rate\r\naccordingly. Either ",(0,i.jsx)(n.code,{children:"48000hz"})," or ",(0,i.jsx)(n.code,{children:"44100hz"})," can work well in most cases,\r\nbut a few sounds don't use either. Which sampling rate you should use\r\ndepends on the original sound's sampling rate."]}),"\n",(0,i.jsxs)(n.p,{children:["For example: if you use ",(0,i.jsx)(n.code,{children:"44100khz"})," and the sound is slightly too high\r\npitched in game, use ",(0,i.jsx)(n.code,{children:"48000khz"}),". If you use ",(0,i.jsx)(n.code,{children:"48000khz"})," and it's\r\nslightly low pitched in game, use ",(0,i.jsx)(n.code,{children:"44100khz"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If you're unsure which to use, or the sound still seems too high, or\r\nlow pitched, you can use\r\n",(0,i.jsx)(n.a,{href:"https://github.com/r-ex/LegionPlus",children:"LegionPlus"})," to determine the\r\noriginal rate."]}),"\n",(0,i.jsxs)(n.p,{children:["After that, export your track as a 16-bit ",(0,i.jsx)(n.code,{children:"wav"})," file (any other\r\nbit-depth will cause Northstar to crash). Make sure you don't add any\r\nmetadata as this will cause white noise to be at the end of the sound."]}),"\n",(0,i.jsx)(n.h2,{id:"issues_with_sounds",children:"Issues With Sounds"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"White noise after the sound ends."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This is usually because there's some metadata left in the audio. Remove\r\nit to fix this issue."}),"\n",(0,i.jsxs)(n.div,{children:[(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"Windows"}),(0,i.jsxs)(n.p,{children:["You can bulk remove it with\r\n",(0,i.jsx)(n.a,{href:"https://www.mp3tag.de/en/download.html",children:"Mp3tag"})," or individually with\r\nAudacity."]})]}),(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"Linux"}),(0,i.jsxs)(n.p,{children:["You can bulk remove it with ",(0,i.jsx)(n.a,{href:"https://metadatacleaner.romainvigier.fr",children:"Metadata\r\nCleaner"})," or a shell script\r\n(requires ffmpeg to be installed) and also individually with Audacity."]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"metadata_remover.sh"})," (WAV only)"]}),(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"Script"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'shopt -s globstar nullglob\r\nfor f in *.wav **/*.wav\r\ndo\r\nffmpeg -i "$f" -map 0 -map_metadata -1 -c:v copy -c:a copy "${f%.wav}.new.wav"\r\nmv -f "${f%.wav}.new.wav" "$f"\r\ndone\n'})})]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Sound is slightly higher/lower pitched in game. This is usually\r\nbecause the sampling rate of your sound doesn't match the original\r\nsound's sampling rate. You can use a tool like Audacity to resample\r\nyour sound to match the original rate. Consult\r\n",(0,i.jsx)(n.code,{children:"_creating_your_sound"}),"  for more\r\ninformation."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"sound_tools",children:"Sound Tools"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Converters"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{children:[(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"Windows"}),(0,i.jsx)(n.p,{children:"# todo"})]}),(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"Linux"}),(0,i.jsx)(n.p,{children:"On Linux you can use shell scripts that convert all WAV or MP3 audio\r\nfiles from the current directory (including folders) to WAV 48000Hz\r\n16-bit. They require ffmpeg to be installed."}),(0,i.jsx)(n.p,{children:"MP3 and other formats scripts don't delete previous files, so just\r\nsearch for them (.format) and delete after conversion. WAV script\r\nautomatically replaces old files."}),(0,i.jsxs)(n.div,{children:[(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"WAV script"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'#WAV to WAV 16-bit 48000 Hz.\r\n#wav_converter.sh\r\n\r\nshopt -s globstar nullglob\r\nfor f in *.wav **/*.wav\r\ndo\r\nffmpeg -i "$f" -acodec pcm_s16le -ar 48000 "${f%.wav}.new.wav"\r\nmv -f "${f%.wav}.new.wav" "$f"\r\ndone\n'})})]}),(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"MP3 Script"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'#MP3 to WAV 16-bit 48000 Hz.\r\n#mp3-wav_converter.sh\r\n\r\nshopt -s globstar nullglob\r\nfor f in *.mp3\r\ndo\r\nffmpeg -i "${f}" -vn -c:a pcm_s16le  -ar 48000 "${f%.*}.wav"\r\ndone\n'})})]}),(0,i.jsxs)(n.div,{children:[(0,i.jsx)(n.p,{children:"Script for other formats"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'#Replace .format with the one you want to convert.\r\n#format-wav_converter.sh\r\n\r\nshopt -s globstar nullglob\r\nfor f in *.format\r\ndo\r\nffmpeg -i "${f}" -vn -c:a pcm_s16le  -ar 48000 "${f%.*}.wav"\r\ndone\n'})})]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["As with any mod, the folder which contains your ",(0,i.jsx)(n.code,{children:"mod.json"})," needs to\r\nbe inside ",(0,i.jsx)(n.code,{children:"Titanfall 2/r2Northstar/Mods/"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);