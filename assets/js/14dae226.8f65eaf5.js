"use strict";(self.webpackChunkns_wiki=self.webpackChunkns_wiki||[]).push([[3348],{6910:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>d});var s=r(4848),t=r(8453);const c={},i=void 0,l={id:"reference/respawn/hud_menus",title:"hud_menus",description:"HUD Menus ====",source:"@site/docs/reference/respawn/hud_menus.md",sourceDirName:"reference/respawn",slug:"/reference/respawn/hud_menus",permalink:"/ns-wiki/docs/reference/respawn/hud_menus",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/reference/respawn/hud_menus.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"hud_element_notation",permalink:"/ns-wiki/docs/reference/respawn/hud_element_notation"},next:{title:"HUD elements in Scripts",permalink:"/ns-wiki/docs/reference/respawn/hud_script"}},o={},d=[];function u(e){const n={a:"a",blockquote:"blockquote",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"HUD Menus ===="}),"\n",(0,s.jsxs)(n.p,{children:["Before working on HUD, it's recommended to\r\n",(0,s.jsx)(n.a,{href:"https://noskill.gitbook.io/titanfall2/intro/duction/vpk-packpack",children:"extract"}),"\r\nthe ",(0,s.jsx)(n.code,{children:"englishclient_frontend.bsp.pak000_dir.vpk"})," vpk. This file contains\r\nall vanilla menus and UI logic and will be a very helpful reference!"]}),"\n",(0,s.jsx)(n.p,{children:"Registering a menu ----"}),"\n",(0,s.jsxs)(n.p,{children:["In your ",(0,s.jsx)(n.code,{children:"mod.json"}),", add a ",(0,s.jsx)(n.code,{children:"Before"})," UI callback like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{\r\n    "Path": "ui/profiles_menu.nut",\r\n    "RunOn": "UI",\r\n    "UICallback": {\r\n        "Before": "InitProfilesMenu",\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["In the script you referenced, create a global in which you register your\r\nmenu with the ",(0,s.jsx)(n.code,{children:"AddMenu"})," like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'global function InitProfilesMenu\r\n\r\nvoid function InitProfilesMenu()\r\n{\r\n    AddMenu( "MenuName", $"path/to/menu.menu"  )\r\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If you want to, you can add a init to ",(0,s.jsx)(n.code,{children:"AddMenu"})," like this:\r\n",(0,s.jsx)(n.code,{children:'AddMenu( "MenuName", $"path/to/menu.menu", func )'})]}),"\n",(0,s.jsxs)(n.p,{children:["The returns ",(0,s.jsx)(n.code,{children:"void"})," and takes no parameters. It gets called once the menu\r\nis initialized."]}),"\n",(0,s.jsx)(n.p,{children:"It's recommended to create a file struct in which you store menu\r\nstates:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'struct {\r\n    var menu\r\n} file\r\n\r\nvoid function MenuInitCallback()\r\n{\r\n    file.menu = GetMenu( "MenuName" )\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Registering a Submenu ----"}),"\n",(0,s.jsx)(n.p,{children:"Menu Functions ^^^^"}),"\n",(0,s.jsxs)(n.p,{children:["Useless functions have been left out. From ",(0,s.jsx)(n.code,{children:"_menus.nut"})]}),"\n",(0,s.jsx)(n.p,{children:"Register Menus ~~~~"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Register a normal HUD menu. The init function will be called once all\r\nmenus are registered and created."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Registers a normal HUD menu with a custom function to create the menu.\r\nThe create function needs to be native since scripts can't create HUD\r\nelements."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Open Menus ~~~~"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Push a menu to the stack / open a menu"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["if ",(0,s.jsx)(n.code,{children:"updateMenuPos"})," is not ",(0,s.jsx)(n.code,{children:"null"}),", the menu is required to have a\r\n",(0,s.jsx)(n.code,{children:"ButtonFrame"})," element that is the main content reference."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Retrieve Menus ~~~~"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Get the menu reference"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Close Menus ~~~~~"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Close until the menu is the most recent opened."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Callbacks ~~~~"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Accepted events:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_OPEN"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_CLOSE"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_SHOW"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_HIDE"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_NAVIGATE_BACK"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_TAB_CHANGED"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_ENTITLEMENTS_CHANGED"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.MENU_INPUT_MODE_CHANGED"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Accepted events:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.PANEL_SHOW"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"eUIEvent.PANEL_HIDE"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Add an event handler to an element."}),"\n",(0,s.jsxs)(n.p,{children:["If you have a reference to the element, use ",(0,s.jsx)(n.code,{children:"Hud_AddEventHandler"})]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Add a event handler for every element of a class"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Get the last openend menu that isn't a dialog"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Returns ",(0,s.jsx)(n.code,{children:"true"})," if the menu is a dialog."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Submenus ~~~~"}),"\n",(0,s.jsx)(n.p,{children:"Not recommended to use."}),"\n",(0,s.jsx)(n.p,{children:"Other ~~~~"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Debugging"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Set the default focus element to be focused"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Like ",(0,s.jsx)(n.code,{children:"FocusDefaultMenuItem"})," but excludes some menus."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Footers ^^^^"}),"\n",(0,s.jsx)(n.p,{children:"To use footers, add this element to your menu:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"FooterButtons\r\n{\r\n    ControlName         CNestedPanel\r\n    InheritProperties   FooterButtons\r\n}\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Adds a footer to a menu."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Adds a footer to a panel"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Update the footers of the active menu."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Change the text of a specific footer."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var s=r(6540);const t={},c=s.createContext(t);function i(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);