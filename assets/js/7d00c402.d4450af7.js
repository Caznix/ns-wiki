"use strict";(self.webpackChunkns_wiki=self.webpackChunkns_wiki||[]).push([[4025],{5680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>c});var o=t(6540);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=o.createContext({}),u=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=u(e.components);return o.createElement(s.Provider,{value:n},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},y=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),p=u(t),y=a,c=p["".concat(s,".").concat(y)]||p[y]||g[y]||i;return t?o.createElement(c,l(l({ref:n},d),{},{components:t})):o.createElement(c,l({ref:n},d))}));function c(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=y;var r={};for(var s in n)hasOwnProperty.call(n,s)&&(r[s]=n[s]);r.originalType=e,r[p]="string"==typeof e?e:a,l[1]=r;for(var u=2;u<i;u++)l[u]=t[u];return o.createElement.apply(null,l)}return o.createElement.apply(null,t)}y.displayName="MDXCreateElement"},6761:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>s});var o=t(8168),a=(t(6540),t(5680));const i={},l="Sound Modding",r={unversionedId:"guides/tools/soundmodding",id:"guides/tools/soundmodding",isDocsHomePage:!1,title:"Sound Modding",description:"Audio Type",source:"@site/docs/guides/tools/soundmodding.md",sourceDirName:"guides/tools",slug:"/guides/tools/soundmodding",permalink:"/ns-wiki/docs/guides/tools/soundmodding",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/guides/tools/soundmodding.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"RPak Modding",permalink:"/ns-wiki/docs/guides/tools/rpakmodding"},next:{title:"Modding Tools",permalink:"/ns-wiki/docs/guides/tools/tools"}},s=[{value:"Audio Type",id:"audio-type",children:[]},{value:"Step 1 - Identifying the Sound",id:"step-1---identifying-the-sound",children:[]},{value:"Step 2 - Creating Folders",id:"step-2---creating-folders",children:[]},{value:"Creating Your Sound",id:"creating_your_sound",children:[]},{value:"Issues With Sounds",id:"issues_with_sounds",children:[]},{value:"Sound Tools",id:"sound_tools",children:[]},{value:"Installation",id:"installation",children:[]}],u={toc:s},d="wrapper";function p(e){let{components:n,...t}=e;return(0,a.yg)(d,(0,o.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"sound-modding"},"Sound Modding"),(0,a.yg)("h2",{id:"audio-type"},"Audio Type"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"You will need to use ",(0,a.yg)("inlineCode",{parentName:"li"},"WAV")," format and either ",(0,a.yg)("inlineCode",{parentName:"li"},"48000hz")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"44100hz"),"\nsample rate."),(0,a.yg)("li",{parentName:"ul"},"More details below in ",(0,a.yg)("a",{parentName:"li",href:"#creating_your_sound"},"creating_your_sound"))),(0,a.yg)("h2",{id:"step-1---identifying-the-sound"},"Step 1 - Identifying the Sound"),(0,a.yg)("p",null,"First you need to identify the exact sound. There\\'s a command for this:\n",(0,a.yg)("inlineCode",{parentName:"p"},"ns_print_played_sounds 1")," It will show all the audio events that are\nhappening at that moment on the console."),(0,a.yg)("p",null,"For example, use your Grapple and open the console the event ID will be\n",(0,a.yg)("inlineCode",{parentName:"p"},"pilot_grapple_fire")),(0,a.yg)("p",null,"How it looks in the console:\n",(0,a.yg)("img",{parentName:"p",src:"https://raw.githubusercontent.com/rwynx/audio-overriding-northstar/main/Images/audioeventeample.png",alt:"console"})),(0,a.yg)("p",null,"All weapons, boosts, tacticals have different events IDs on different\nsurfaces (concrete, solidmetal, wood, dirt etc.) That\\'s why you must\nidentify the exact event/s. Examples based on Grapple:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Concrete impact: ",(0,a.yg)("inlineCode",{parentName:"li"},"concrete_grapple_impact_1p_vs_3p")),(0,a.yg)("li",{parentName:"ul"},"Solidmetal impact: ",(0,a.yg)("inlineCode",{parentName:"li"},"solidmetal_grapple_extract_1p_vs_3p")," etc.")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"NOTE:")," ",(0,a.yg)("inlineCode",{parentName:"p"},"ns_print_played_sounds 1")," will show you every event ID. Not\njust in-match ones. For example:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"The sound when you move the cursor to an option it will be\n",(0,a.yg)("inlineCode",{parentName:"li"},"menu_focus"),", and clicking sound will be ",(0,a.yg)("inlineCode",{parentName:"li"},"menu_accept")," or menu music\n",(0,a.yg)("inlineCode",{parentName:"li"},"mainmenu_music"))),(0,a.yg)("p",null,"Check the console often, as it\\'s easy to miss your sound - there can be\na lot of sounds playing."),(0,a.yg)("p",null,"There\\'s also a\n",(0,a.yg)("a",{parentName:"p",href:"https://gist.github.com/begin-theadventure/84c46e803aa358b102d754ff992ae9e4"},"list"),"\nof all EvenIDs (audio)."),(0,a.yg)("p",null,"Sounds can be played in-game from the console via\n",(0,a.yg)("inlineCode",{parentName:"p"},"script_ui EmitUISound(soundname)"),"."),(0,a.yg)("p",null,"Additionally\n",(0,a.yg)("a",{parentName:"p",href:"https://gist.github.com/begin-theadventure/cf941af91cd158de4fde747ec78c2902"},"subtitles"),"\nin the form of plain text can also be useful."),(0,a.yg)("p",null,"You can also export sounds with\n",(0,a.yg)("a",{parentName:"p",href:"https://github.com/r-ex/LegionPlus"},"LegionPlus")," instead of playing them\nin-game."),(0,a.yg)("p",null,"Open LegionPlus.exe -",">"," Load File -",">"," Titanfall 2/r2/sound pick\ngeneral.mbnk"),(0,a.yg)("p",null,"If you want to export only a specific sound use search. It\\'s possible\nto export selected sounds and all (after a search it exports only the\nfound assets)."),(0,a.yg)("h2",{id:"step-2---creating-folders"},"Step 2 - Creating Folders"),(0,a.yg)("p",null,"When you successfully identified your event and have the audio file/s\nready it\\'s time to set up the folder structure. Assuming the event name\nis ",(0,a.yg)("inlineCode",{parentName:"p"},"pilot_grapple_fire"),", the folder structure of your mod should look\nlike this:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-text"},"author.mod/\n\u251c\u2500\u2500 audio/\n\u2502   \u251c\u2500\u2500 pilot_grapple_fire/\n\u2502   \u2502   \u2514\u2500\u2500 my_audio.wav\n\u2502   \u2514\u2500\u2500 pilot_grapple_fire.json\n\u2514\u2500\u2500 mod.json\n")),(0,a.yg)("p",null,"Example of a ",(0,a.yg)("inlineCode",{parentName:"p"},"mod.json")," (documented here:\n",(0,a.yg)("inlineCode",{parentName:"p"},"/guides/gettingstarted"),'{.interpreted-text role="doc"})'),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "Name": "MOD_NAME_HERE",\n  "Description": "DESCRIPTION_HERE",\n  "Version": "0.1.0",\n  "LoadPriority": 2\n}\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Inside the ","`","`","audio/","`","`"," folder:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"pilot_grapple_fire/")," folder which needs to contain your .wav\nfile(s)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"pilot_grapple_fire.json")," json used to configure the sound override,\ndont forget to edit.")),(0,a.yg)("p",null,"You will have to add that folder with your sound and the json for each\nevent you want to override. The event JSON files must contain both\n",(0,a.yg)("inlineCode",{parentName:"p"},"EventId")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"AudioSelectionStrategy")," like this:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "EventId": [ "pilot_grapple_fire" ],\n    "AudioSelectionStrategy": "sequential"\n}\n')),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"AudioSelectionStrategy")," can be either:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"sequential"),": If you have one sound or you want to play them in\nalphabetical order."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"random"),": If you have more than one sound and you want to randomize\nthem.")),(0,a.yg)("h2",{id:"creating_your_sound"},"Creating Your Sound"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Recommended tool:"),(0,a.yg)("a",{parentName:"li",href:"https://www.audacityteam.org/download/"},"Audacity"))),(0,a.yg)("p",null,"Open/Add your audio as a track to Audacity and set the project rate\naccordingly. Either ",(0,a.yg)("inlineCode",{parentName:"p"},"48000hz")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"44100hz")," can work well in most cases,\nbut a few sounds don\\'t use either. Which sampling rate you should use\ndepends on the original sound\\'s sampling rate."),(0,a.yg)("p",null,"For example: if you use ",(0,a.yg)("inlineCode",{parentName:"p"},"44100khz")," and the sound is slightly too high\npitched in game, use ",(0,a.yg)("inlineCode",{parentName:"p"},"48000khz"),". If you use ",(0,a.yg)("inlineCode",{parentName:"p"},"48000khz")," and it\\'s\nslightly low pitched in game, use ",(0,a.yg)("inlineCode",{parentName:"p"},"44100khz"),"."),(0,a.yg)("p",null,"If you\\'re unsure which to use, or the sound still seems too high, or\nlow pitched, you can use\n",(0,a.yg)("a",{parentName:"p",href:"https://github.com/r-ex/LegionPlus"},"LegionPlus")," to determine the\noriginal rate."),(0,a.yg)("p",null,"After that, export your track as a 16-bit ",(0,a.yg)("inlineCode",{parentName:"p"},"wav")," file (any other\nbit-depth will cause Northstar to crash). Make sure you don\\'t add any\nmetadata as this will cause white noise to be at the end of the sound."),(0,a.yg)("h2",{id:"issues_with_sounds"},"Issues With Sounds"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"White noise after the sound ends.")),(0,a.yg)("p",null,"This is usually because there\\'s some metadata left in the audio. Remove\nit to fix this issue."),(0,a.yg)("p",null,":::::: tab-set\n::: tab-item\nWindows"),(0,a.yg)("p",null,"You can bulk remove it with\n",(0,a.yg)("a",{parentName:"p",href:"https://www.mp3tag.de/en/download.html"},"Mp3tag")," or individually with\nAudacity.\n:::"),(0,a.yg)("p",null,":::: tab-item\nLinux"),(0,a.yg)("p",null,"You can bulk remove it with ",(0,a.yg)("a",{parentName:"p",href:"https://metadatacleaner.romainvigier.fr"},"Metadata\nCleaner")," or a shell script\n(requires ffmpeg to be installed) and also individually with Audacity."),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"metadata_remover.sh")," (WAV only)"),(0,a.yg)("p",null,"::: dropdown\nScript"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'shopt -s globstar nullglob\nfor f in *.wav **/*.wav\ndo\nffmpeg -i "$f" -map 0 -map_metadata -1 -c:v copy -c:a copy "${f%.wav}.new.wav"\nmv -f "${f%.wav}.new.wav" "$f"\ndone\n')),(0,a.yg)("p",null,":::\n::::\n::::::"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Sound is slightly higher/lower pitched in game. This is usually\nbecause the sampling rate of your sound doesn\\'t match the original\nsound\\'s sampling rate. You can use a tool like Audacity to resample\nyour sound to match the original rate. Consult\n",(0,a.yg)("inlineCode",{parentName:"li"},"_creating_your_sound"),'{.interpreted-text role="ref"} for more\ninformation.')),(0,a.yg)("h2",{id:"sound_tools"},"Sound Tools"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Converters")),(0,a.yg)("p",null,"::::::::: tab-set\n::: tab-item\nWindows"),(0,a.yg)("p",null,"#"," todo\n:::"),(0,a.yg)("p",null,"::::::: tab-item\nLinux"),(0,a.yg)("p",null,"On Linux you can use shell scripts that convert all WAV or MP3 audio\nfiles from the current directory (including folders) to WAV 48000Hz\n16-bit. They require ffmpeg to be installed."),(0,a.yg)("p",null,"MP3 and other formats scripts don\\'t delete previous files, so just\nsearch for them (.format) and delete after conversion. WAV script\nautomatically replaces old files."),(0,a.yg)("p",null,":::::: tab-set\n::: tab-item\nWAV script"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'#WAV to WAV 16-bit 48000 Hz.\n#wav_converter.sh\n\nshopt -s globstar nullglob\nfor f in *.wav **/*.wav\ndo\nffmpeg -i "$f" -acodec pcm_s16le -ar 48000 "${f%.wav}.new.wav"\nmv -f "${f%.wav}.new.wav" "$f"\ndone\n')),(0,a.yg)("p",null,":::"),(0,a.yg)("p",null,"::: tab-item\nMP3 Script"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'#MP3 to WAV 16-bit 48000 Hz.\n#mp3-wav_converter.sh\n\nshopt -s globstar nullglob\nfor f in *.mp3\ndo\nffmpeg -i "${f}" -vn -c:a pcm_s16le  -ar 48000 "${f%.*}.wav"\ndone\n')),(0,a.yg)("p",null,":::"),(0,a.yg)("p",null,"::: tab-item\nScript for other formats"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'#Replace .format with the one you want to convert.\n#format-wav_converter.sh\n\nshopt -s globstar nullglob\nfor f in *.format\ndo\nffmpeg -i "${f}" -vn -c:a pcm_s16le  -ar 48000 "${f%.*}.wav"\ndone\n')),(0,a.yg)("p",null,":::\n::::::\n:::::::\n:::::::::"),(0,a.yg)("h2",{id:"installation"},"Installation"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"As with any mod, the folder which contains your ",(0,a.yg)("inlineCode",{parentName:"li"},"mod.json")," needs to\nbe inside ",(0,a.yg)("inlineCode",{parentName:"li"},"Titanfall 2/r2Northstar/Mods/"),".")))}p.isMDXComponent=!0}}]);