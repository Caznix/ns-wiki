"use strict";(self.webpackChunkns_wiki=self.webpackChunkns_wiki||[]).push([[7306],{6446:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=i(4848),t=i(8453);const r={},o="Safe I/O",a={id:"reference/northstar/safeio",title:"Safe I/O",description:"If you want to store an extended amount of data in your mod it is not",source:"@site/docs/reference/northstar/safeio.md",sourceDirName:"reference/northstar",slug:"/reference/northstar/safeio",permalink:"/ns-wiki/docs/reference/northstar/safeio",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/reference/northstar/safeio.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Server Authentification",permalink:"/ns-wiki/docs/reference/northstar/msinterface"},next:{title:"Serverside RUI",permalink:"/ns-wiki/docs/reference/northstar/serversiderui"}},l={},c=[{value:"Saving a file",id:"saving-a-file",level:2},{value:"Loading a file",id:"loading-a-file",level:2},{value:"Deleting a file",id:"deleting-a-file",level:2},{value:"File checks",id:"file-checks",level:2}];function d(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",header:"header",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"safe-io",children:"Safe I/O"})}),"\n",(0,s.jsxs)(n.p,{children:["If you want to store an extended amount of data in your mod it is not\r\nsustainable to only use ConVars as they are limited in space and easily\r\nreset. With Safe I/O you are able to write to one folder\r\n(",(0,s.jsx)(n.code,{children:"<profile>/saves/<mod directory name>"}),"). In this folder you can store\r\ntext files of any type (e.g. ",(0,s.jsx)(n.code,{children:".txt"}),", ",(0,s.jsx)(n.code,{children:".json"}),"), it's also possible to\r\nuse non text file formats (e.g. ",(0,s.jsx)(n.code,{children:".exe"}),") however you won't be able to\r\nrun them on your PC. It also allows for sub-folders."]}),"\n",(0,s.jsx)(n.h2,{id:"saving-a-file",children:"Saving a file"}),"\n",(0,s.jsxs)(n.p,{children:["To save a file you need the content you want to save as\r\n",(0,s.jsx)(n.code,{children:"strings-overview"}),"  , for this the\r\n",(0,s.jsx)(n.code,{children:"json_overview"}),"  functions can be useful if\r\nyou want to store ",(0,s.jsx)(n.code,{children:"table_overview"}),"  or\r\n",(0,s.jsx)(n.code,{children:"arrays_overview"})," ."]}),"\n",(0,s.jsx)(n.p,{children:"To actually save the file you use:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"param string file"}),"\n",(0,s.jsxs)(n.p,{children:[":   The name of the file you want to store, this supports sub folders.\r\nNeeds to be with the file type (e.g. ",(0,s.jsx)(n.code,{children:"/TitanData/tone.txt"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"param string data"}),"\n",(0,s.jsx)(n.p,{children:":   The saved data, this can be any valid String."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Alternatively if you want a faster way to store\r\n",(0,s.jsx)(n.code,{children:"table_overview"}),"  you can use:"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"param string file"}),"\n",(0,s.jsxs)(n.p,{children:[":   The name of the file you want to store, this supports sub folders.\r\nDoesn't have to be ",(0,s.jsx)(n.code,{children:".json"})," but will use the correct formatting\r\nfor a ",(0,s.jsx)(n.code,{children:".json"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"param table data"}),"\n",(0,s.jsxs)(n.p,{children:[":   The table that will be written to the file, this only supports the\r\ntypes specified in the ",(0,s.jsx)(n.code,{children:"json_overview"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"loading-a-file",children:"Loading a file"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"param string file"}),"\n",(0,s.jsxs)(n.p,{children:[":   This is the name of the file you want to load, it has the same\r\nformating as in ",(0,s.jsx)(n.code,{children:"NSSaveFile"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"param void functionref( string ) onSuccess"}),"\n",(0,s.jsxs)(n.p,{children:[":   The function that gets execued when the file is successfully\r\nloaded, the parameter ",(0,s.jsx)(n.code,{children:"string"})," is the content of the loaded file."]}),"\n",(0,s.jsx)(n.p,{children:"param void functionref() onFailure = null"}),"\n",(0,s.jsxs)(n.p,{children:[":   The function that gets execued when the loading was NOT\r\nsuccessful, by default the function is just ",(0,s.jsx)(n.code,{children:"null"}),"."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.div,{children:(0,s.jsx)(n.p,{children:"Note"})}),(0,s.jsxs)(n.p,{children:["If you are having trouble with functionrefs you can read up on them\r\nhere: ",(0,s.jsx)(n.code,{children:"functionref_overview"})]})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You can also get all saved file:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'param string path = ""'}),"\n",(0,s.jsxs)(n.p,{children:[":   Gets all files in a specified path, by default its just\r\n",(0,s.jsx)(n.code,{children:"<profile>/saves/<mod directory name>"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"returns"}),"\n",(0,s.jsx)(n.p,{children:":   An array with all file names in the specified path."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deleting-a-file",children:"Deleting a file"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"param string file"}),"\n",(0,s.jsxs)(n.p,{children:[":   This is the name of the file you want to check exsits, it has the\r\nsame formating as in ",(0,s.jsx)(n.code,{children:"NSSaveFile"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"file-checks",children:"File checks"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"param tring file"}),"\n",(0,s.jsxs)(n.p,{children:[":   This is the name of the file you want to check exsits, it has the\r\nsame formating as in ",(0,s.jsx)(n.code,{children:"NSSaveFile"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"returns"}),"\n",(0,s.jsxs)(n.p,{children:[":   ",(0,s.jsx)(n.code,{children:"true"})," if the file was found, otherwise it returns ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"param string file"}),"\n",(0,s.jsx)(n.p,{children:":   This is the name of the file you want to get the file size from."}),"\n",(0,s.jsx)(n.p,{children:"returns"}),"\n",(0,s.jsx)(n.p,{children:":   KB size of the specified file."}),"\n",(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsx)(n.div,{children:(0,s.jsx)(n.p,{children:"Warning"})}),(0,s.jsx)(n.p,{children:"This fucntion will raise an error when the file doesnt exist."})]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"param string file"}),"\n",(0,s.jsx)(n.p,{children:":   This is the path you want to check."}),"\n",(0,s.jsx)(n.p,{children:"returns"}),"\n",(0,s.jsxs)(n.p,{children:[":   ",(0,s.jsx)(n.code,{children:"true"})," if the path is a folder, otherwise it returns ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"returns"}),"\n",(0,s.jsx)(n.p,{children:":   Amount of KB you have left to write on."}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.div,{children:(0,s.jsx)(n.p,{children:"Note"})}),(0,s.jsxs)(n.p,{children:["The max size of data you can store is ",(0,s.jsx)(n.code,{children:"50MB"})," per mod. Can be\r\noverwritten with ",(0,s.jsx)(n.code,{children:"-maxfoldersize BYTES"})," in the launch args."]})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);