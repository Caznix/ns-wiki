"use strict";(self.webpackChunkns_wiki=self.webpackChunkns_wiki||[]).push([[42],{4900:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var i=t(4848),s=t(8453);const r={},a="Stack",c={id:"squirrel/cpp_api/stack",title:"Stack",description:"Squirrel exchanges values with the virtual machine through a stack. This",source:"@site/docs/squirrel/cpp_api/stack.md",sourceDirName:"squirrel/cpp_api",slug:"/squirrel/cpp_api/stack",permalink:"/ns-wiki/docs/squirrel/cpp_api/stack",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/squirrel/cpp_api/stack.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Squirrel Functions",permalink:"/ns-wiki/docs/squirrel/cpp_api/sq_functions"},next:{title:"Functions & Closures",permalink:"/ns-wiki/docs/squirrel/functions"}},o={},l=[{value:"Stack Indexes",id:"stack-indexes",level:2},{value:"Stack manipulation",id:"stack-manipulation",level:2}];function h(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"stack",children:"Stack"})}),"\n",(0,i.jsx)(n.p,{children:"Squirrel exchanges values with the virtual machine through a stack. This\r\nmechanism has been inherited from the language Lua. For instance to call\r\na Squirrel function from native code it is necessary to push the\r\nfunction and the arguments in the stack and then invoke the function;\r\nalso when Squirrel calls a native function the parameters will be in the\r\nstack as well."}),"\n",(0,i.jsx)(n.h2,{id:"stack-indexes",children:"Stack Indexes"}),"\n",(0,i.jsx)(n.p,{children:"Many API functions can arbitrarily refer to any element in the stack\r\nthrough an index. The stack indexes follow these conventions:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"1 is the stack base"}),"\n",(0,i.jsx)(n.li,{children:"Negative indexes are considered an offset from top of the stack. For\r\ninstance -1 is always the last item pushed to the stack"}),"\n",(0,i.jsx)(n.li,{children:"0 is an invalid index"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"See this example stack for reference:"}),"\n",(0,i.jsx)(n.p,{children:"Stack   Positive index   Negative index"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"p4      4                -1\r\np3      3                -2\r\np2      2                -3\r\np1      1                -4"}),"\n",(0,i.jsx)(n.h2,{id:"stack-manipulation",children:"Stack manipulation"}),"\n",(0,i.jsx)(n.p,{children:"The Squirrel API offers several functions to push and retrieve data from\r\nthe Stack."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.p,{children:["This function (",(0,i.jsx)(n.code,{children:"server.dll+0x7000"}),"`) is not available in the launcher\r\nor plugins at the moment."]}),(0,i.jsx)(n.p,{children:"You can open a PR if you need it now."})]}),"\n",(0,i.jsx)(n.p,{children:"param HSquirrelVM* sqvm"}),"\n",(0,i.jsx)(n.p,{children:":   the target vm"}),"\n",(0,i.jsx)(n.p,{children:"pops the top item of the stack."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);